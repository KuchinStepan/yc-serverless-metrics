# Приложение для развертывания в yandex-cloud

## Для запуска
- Создать файл с необходимыми для себя значениями в файле `scripts/config.json` (шаблон `в scripts/example_config.json`)
- Для работы скриптов нужно создать сервисный аккаунт с ролями `serverless.functions.invoker` и `ydb.editor` (его название указать в конфиге в `service_account_name`)
- Вызвать в корневой директории команду 
    ```
    bash scripts/init_project.sh
    ```

- Для обновления бэкенда:
    ```
    bash scripts/deploy_function.sh
    ```

## Особенности
- Скрипты протестированы только на линуксе (т.к. на домашнем ноуте это единственная ОС :)
- В качестве версий бэкенда подставляется хеш коммита, с которого был развернут деплой
    - Почему именно git? Когда речь идет о разных версиях кода, то наиболее понятным инструментов является git
- После первой инициализации и деплоя проекта создастся директория `scripts/Build`, в которой будут лежать необходимые файлы для обновлений фронтенда или бекенда
    - Почему именно такая реализация? В рамках данного тз проектом администрирует один человек и как будто сценарий постоянной смены устройств очень редкий, но при необходимости можно дописать скрипт для получения / доп генерации нужных файлов. Но мне показалось для данного задания это ненужным 

## Requirements

- Утилита `yc`
- Утилита `ydb` (скачать: ```curl -sSL https://install.ydb.tech/cli | bash```)

## Вспомонательные команды

- Получение доступных folder-id, для настройки своих переменных
    ```
    yc resource-manager folder list
    ```
